---
title: グローバルIPアドレスの変更を確認するwebページの作成
tags:
  - Netlify
  - Vue.js
  - glipah
---

自宅のような環境では、プロバイダーから割り当てられたグローバルなIPアドレスを気にする必要は、通常はあまりない。ただし、たとえば一日のアクセス数が少ないブログなどのアクセス数をGoogleアナリティクスで確認するときに、自分のアクセスを除外したい場合には、自分に割り当てられているグローバルなIPアドレスを確認する必要がある。また、プロバイダーからの割り当ては、いつ変更されるのかわからないため、定期的に確認する必要もある。

このwebサイトにアクセスすると、プロバイダーに割り当てられているグローバルなIPアドレスを確認するとともに、以前に確認したときから変更されているのかがわかる。以前のIPアドレスはローカルな環境に保存されるため、サーバーに保存される情報はない。

## 画面

| IPアドレス | 初回のアクセス日時 | 最後のアクセス日時 | 登録済み |
|-----|-----|-----|-----|
| xx.xx.xx.xx | 2020/04/21 12:34:56 | 2020/04/22 01:23:45 | □ |
| yy.yy.yy.yy | 2020/03/31 00:00:00 | 2020/04/20 11:11:11 | ■ |

各フィールドのデータタイプはIPアドレスはstring、初回のアクセス日時、最後のアクセス日時はDateTime、登録済みはBooleanとする。
各フィールドのうち、IPアドレスと初回のアクセス日時は、新しいIPアドレスを確認したときに設定されて、そのあとは更新されない。
最後のアクセス日時は、該当するIPアドレスを確認するたびに更新される。登録済みの初期値はfalseであり、Googleアナリティクスのフィルターに登録したら、trueにする。

## データ構造

{ glipah:
  { xx.xx.xx.xx:
    { firstDatetime: "2020/04/21 12:34:56", lastDatetime: "2020/04/22 01:23:45", isRegistered: false},
    yy.yy.yy.yy:
    { firstDatetime: "2020/03/31 00:00:00", lastDatetime: "2020/04/20 11:11:11", isRegistered: true},
  }
}
